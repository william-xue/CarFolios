# 车故二手车交易平台 MVP 需求文档

## 简介

车故二手车交易平台是一个面向 C 端用户的二手车交易平台，为买家提供真实可靠的二手车信息、便捷的在线选车和预约流程，为卖家提供高效的车源发布和管理服务。本 MVP 版本聚焦核心交易闭环，旨在向投资人展示产品的核心价值和用户体验。

## 术语表

- **系统**：车故二手车交易平台前端应用
- **买家**：浏览和购买二手车的注册用户
- **卖家**：发布和管理二手车源的认证用户
- **车源**：平台上发布的待售二手车辆信息
- **预约看车**：买家向卖家发起的线下看车请求
- **订金订单**：买家支付的车辆预订定金交易记录
- **车辆详情页**：展示单个车源完整信息的页面
- **筛选器**：用于过滤车源列表的条件组合

## 需求

### 需求 1：用户认证与个人资料管理

**用户故事**：作为平台用户，我希望能够快速注册登录并管理个人信息，以便安全地使用平台服务。

#### 验收标准

1. WHEN 用户输入手机号并请求验证码 THEN 系统应在 60 秒内发送短信验证码到该手机号
2. WHEN 用户输入正确的手机号和验证码 THEN 系统应创建或登录用户账户并返回访问令牌
3. WHEN 用户访问需要认证的页面且未登录 THEN 系统应重定向用户到登录页面
4. WHEN 已登录用户修改昵称或头像 THEN 系统应立即更新用户资料并在界面上反映变更
5. WHEN 用户退出登录 THEN 系统应清除本地存储的认证信息并返回首页

### 需求 2：首页浏览与车源推荐

**用户故事**：作为买家，我希望在首页看到精选车源和快捷入口，以便快速找到感兴趣的车辆。

#### 验收标准

1. WHEN 用户访问首页 THEN 系统应展示轮播 Banner、快捷筛选入口和推荐车源列表
2. WHEN 用户点击 Banner THEN 系统应根据配置跳转到对应的车辆详情或活动页面
3. WHEN 用户点击快捷入口（如"10万以下"、"3年内新车"）THEN 系统应跳转到预设筛选条件的车源列表页
4. WHEN 用户下拉刷新首页 THEN 系统应重新加载推荐车源数据
5. WHEN 用户滚动到页面底部 THEN 系统应自动加载更多推荐车源

### 需求 3：车源搜索与筛选

**用户故事**：作为买家，我希望通过多维度搜索和筛选功能找到符合需求的车辆，以便高效选车。

#### 验收标准

1. WHEN 用户在搜索框输入关键词（品牌、车系或车型）THEN 系统应返回标题或品牌信息匹配的车源列表
2. WHEN 用户选择筛选条件（价格区间、车龄、里程、变速箱类型、城市）THEN 系统应仅展示满足所有选中条件的车源
3. WHEN 用户选择排序方式（价格升序、价格降序、最新上架、里程升序）THEN 系统应按指定规则重新排列车源列表
4. WHEN 用户清除所有筛选条件 THEN 系统应展示全部车源列表
5. WHEN 筛选结果为空 THEN 系统应显示"暂无符合条件的车源"提示并建议调整筛选条件

### 需求 4：车辆详情展示

**用户故事**：作为买家，我希望查看车辆的详细信息和高清图片，以便全面了解车况和做出购买决策。

#### 验收标准

1. WHEN 用户点击车源卡片 THEN 系统应跳转到该车辆的详情页面
2. WHEN 车辆详情页加载 THEN 系统应展示车辆图片轮播、基本信息、配置参数、卖点描述和卖家信息
3. WHEN 用户点击图片 THEN 系统应以全屏模式展示高清大图并支持左右滑动切换
4. WHEN 车辆包含检测报告 THEN 系统应在详情页展示检测报告摘要和查看详情入口
5. WHEN 用户点击卖家信息区域 THEN 系统应展示卖家的认证状态、联系方式和其他在售车源

### 需求 5：收藏与浏览历史

**用户故事**：作为买家，我希望收藏感兴趣的车辆并查看浏览记录，以便后续快速找回目标车源。

#### 验收标准

1. WHEN 已登录用户点击车源的收藏按钮 THEN 系统应将该车源添加到用户的收藏列表并更新按钮状态为已收藏
2. WHEN 用户再次点击已收藏车源的收藏按钮 THEN 系统应从收藏列表中移除该车源并更新按钮状态
3. WHEN 用户访问"我的收藏"页面 THEN 系统应展示所有已收藏车源的列表
4. WHEN 用户访问车辆详情页 THEN 系统应自动记录该车源到浏览历史
5. WHEN 用户访问"浏览足迹"页面 THEN 系统应按时间倒序展示最近浏览的车源列表

### 需求 6：预约看车

**用户故事**：作为买家，我希望在线预约看车时间，以便与卖家协调线下看车事宜。

#### 验收标准

1. WHEN 已登录买家在车辆详情页点击"预约看车"按钮 THEN 系统应展示预约表单（日期、时间段、备注）
2. WHEN 买家提交预约请求 THEN 系统应创建预约记录并将状态设置为"待确认"
3. WHEN 预约创建成功 THEN 系统应向买家发送站内消息通知并在"我的预约"列表中显示
4. WHEN 卖家确认预约 THEN 系统应更新预约状态为"已确认"并通知买家
5. WHEN 预约时间到达前 2 小时 THEN 系统应向买家发送看车提醒消息

### 需求 7：卖家车源发布

**用户故事**：作为卖家，我希望快速发布车源信息，以便吸引潜在买家。

#### 验收标准

1. WHEN 已认证卖家点击"发布车源"按钮 THEN 系统应展示车源发布表单
2. WHEN 卖家填写必填字段（品牌、车系、车型、上牌时间、里程、价格、图片）并提交 THEN 系统应创建车源记录并设置状态为"待审核"
3. WHEN 车源图片上传 THEN 系统应支持至少 6 张图片且每张不超过 5MB
4. WHEN 卖家未填写必填字段就提交 THEN 系统应高亮显示缺失字段并阻止提交
5. WHEN 车源提交成功 THEN 系统应显示"提交成功，等待审核"提示并跳转到车源管理页面

### 需求 8：卖家车源管理

**用户故事**：作为卖家，我希望管理已发布的车源，以便及时更新车辆状态和信息。

#### 验收标准

1. WHEN 卖家访问"我的车源"页面 THEN 系统应展示该卖家所有车源的列表（包含状态、标题、价格、更新时间）
2. WHEN 卖家点击车源的"编辑"按钮 THEN 系统应展示预填充当前信息的编辑表单
3. WHEN 卖家修改车源信息并保存 THEN 系统应更新车源数据并重新提交审核（如修改关键字段）
4. WHEN 卖家点击"上架"按钮 THEN 系统应将车源状态更新为"已上架"并在前台展示
5. WHEN 卖家点击"下架"按钮 THEN 系统应将车源状态更新为"已下架"并从前台隐藏
6. WHEN 卖家标记车源为"已售" THEN 系统应更新状态并在列表中显示"已售"标签

### 需求 9：卖家预约管理

**用户故事**：作为卖家，我希望查看和处理买家的看车预约，以便合理安排时间。

#### 验收标准

1. WHEN 卖家访问"预约管理"页面 THEN 系统应展示所有预约记录（按车源和时间分组）
2. WHEN 卖家点击预约的"确认"按钮 THEN 系统应更新预约状态为"已确认"并通知买家
3. WHEN 卖家点击预约的"拒绝"按钮 THEN 系统应更新预约状态为"已拒绝"并要求填写拒绝原因
4. WHEN 卖家修改预约时间 THEN 系统应更新预约记录并通知买家新的时间安排
5. WHEN 预约完成后 THEN 卖家应能标记预约为"已完成"状态

### 需求 10：订金支付流程

**用户故事**：作为买家，我希望在线支付订金锁定心仪车辆，以便优先购买权。

#### 验收标准

1. WHEN 买家在车辆详情页点击"支付订金"按钮 THEN 系统应展示订单确认页面（车辆信息、订金金额、支付方式）
2. WHEN 买家确认订单信息并选择支付方式 THEN 系统应创建订单记录并生成订单号
3. WHEN 订单创建成功 THEN 系统应展示支付二维码或跳转到支付页面（模拟支付）
4. WHEN 买家完成支付 THEN 系统应更新订单状态为"已支付"并发送支付成功通知
5. WHEN 订单创建后 30 分钟内未支付 THEN 系统应自动取消订单并释放车源

### 需求 11：订单管理

**用户故事**：作为买家，我希望查看和管理我的订单，以便跟踪交易进度。

#### 验收标准

1. WHEN 买家访问"我的订单"页面 THEN 系统应展示所有订单列表（按状态分类：全部、待支付、已支付、已取消）
2. WHEN 买家点击订单卡片 THEN 系统应展示订单详情（车辆信息、订单金额、支付时间、订单状态）
3. WHEN 订单状态为"待支付" THEN 买家应能点击"继续支付"按钮完成支付
4. WHEN 订单状态为"待支付" THEN 买家应能点击"取消订单"按钮取消订单
5. WHEN 买家取消订单 THEN 系统应更新订单状态为"已取消"并释放车源

### 需求 12：消息通知中心

**用户故事**：作为用户，我希望接收系统和交易相关的通知，以便及时了解重要信息。

#### 验收标准

1. WHEN 用户访问消息中心 THEN 系统应展示所有消息列表（按时间倒序排列）
2. WHEN 系统发送新消息 THEN 消息中心图标应显示未读消息数量红点
3. WHEN 用户点击消息 THEN 系统应标记该消息为已读并展示消息详情
4. WHEN 消息包含跳转链接（如订单详情、车辆详情）THEN 用户点击应跳转到对应页面
5. WHEN 用户点击"全部已读"按钮 THEN 系统应将所有未读消息标记为已读

### 需求 13：响应式设计与移动端适配

**用户故事**：作为用户，我希望在不同设备上都能流畅使用平台，以便随时随地浏览和交易。

#### 验收标准

1. WHEN 用户在移动设备（宽度 < 768px）访问系统 THEN 系统应展示移动端优化的布局
2. WHEN 用户在平板设备（768px ≤ 宽度 < 1024px）访问系统 THEN 系统应展示平板优化的布局
3. WHEN 用户在桌面设备（宽度 ≥ 1024px）访问系统 THEN 系统应展示桌面端完整布局
4. WHEN 用户旋转移动设备屏幕 THEN 系统应自动调整布局适应新的屏幕方向
5. WHEN 用户在触摸设备上操作 THEN 系统应支持触摸手势（滑动、点击、长按）

### 需求 14：数据持久化与状态管理

**用户故事**：作为开发者，我希望系统能够可靠地存储和管理数据，以便提供一致的用户体验。

#### 验收标准

1. WHEN 用户登录成功 THEN 系统应将认证令牌存储在本地存储中
2. WHEN 用户刷新页面 THEN 系统应从本地存储恢复用户登录状态
3. WHEN 用户修改数据（收藏、预约、订单）THEN 系统应立即更新本地状态并同步到模拟后端
4. WHEN 系统检测到令牌过期 THEN 系统应清除本地存储并提示用户重新登录
5. WHEN 用户在多个标签页操作 THEN 系统应通过本地存储事件同步状态变更

### 需求 15：性能优化与用户体验

**用户故事**：作为用户，我希望系统响应迅速且操作流畅，以便获得良好的使用体验。

#### 验收标准

1. WHEN 用户访问任何页面 THEN 系统应在 2 秒内完成首屏渲染
2. WHEN 用户滚动长列表 THEN 系统应使用虚拟滚动技术保持流畅性能
3. WHEN 用户上传图片 THEN 系统应在上传前压缩图片到合理大小（< 500KB）
4. WHEN 系统加载数据 THEN 系统应显示加载动画或骨架屏提供视觉反馈
5. WHEN 用户执行操作（收藏、提交表单）THEN 系统应在 500 毫秒内提供操作反馈（成功或失败提示）
