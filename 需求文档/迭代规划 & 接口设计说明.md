# 二手车交易平台 迭代规划 & 接口设计说明

> 版本：v1.0  
> 更新时间：2025-12-04  
> 适用对象：产品 / 前端 / 后端 / 测试

---

## 1. 迭代版本规划概览

### 1.1 规划目标

- **V1.0：最小可用闭环（MVP）**
  - 实现“看车 → 预约 → 支付订金”的基础交易闭环。
  - 支持个人卖家发布车源，平台进行基本审核和订单管理。
- **V1.1：体验与运营增强**
  - 引入车商入驻、评价与投诉、简单 IM 咨询、基础内容运营和报表。
  - 完善退款流程与部分风控能力。
- **V2.0：完整交易与营销体系**
  - 引入全额线上支付、金融分期、营销工具（优惠券、活动）、完善结算对账和风控策略。
  - 提供更全面的数据报表和运营增长工具。

---

## 2. 各版本功能范围

### 2.1 V1.0 范围（MVP）

**用户端（买家）**

- 注册 / 登录（短信验证码登录）。
- 个人资料查看与编辑。
- 首页车源推荐（简单规则）。
- 车源列表：基础搜索 + 筛选（品牌、价格区间、车龄、里程、城市）。
- 车源详情：基础车辆信息展示 + 卖家信息。  
- 收藏车源、浏览历史。
- 预约看车：提交预约、查看预约列表。
- 基础订金订单：
  - 创建订单（仅订金）。
  - 支付（调用第三方支付）。
  - 查看订单列表与详情。
  - 取消未支付订单。
- 消息中心：系统通知、订单通知（站内基础）。
- 基础帮助中心（静态 FAQ 内容）。

**用户端（卖家-个人）**

- 实名认证（个人）。
- 发布车源（基础字段 + 图片）。
- 车源管理：查看列表、编辑、上架/下架、标记已售。
- 查看预约记录（确认/拒绝）。
- 查看订金订单列表（只读）。

**管理后台（Web）**

- 管理员登录（账号密码）。
- 角色 & 权限基础管理（简单 RBAC）。
- 用户管理：列表、详情、禁用/启用。  
- 实名认证审核（个人）。
- 车源管理：
  - 列表、详情。
  - 车源审核（通过 / 拒绝）。
  - 上架/下架操作。  
- 订单管理：
  - 订金订单列表。
  - 订单详情查看。
- 基础字典 & 配置：
  - 城市、品牌车系（静态导入）。
  - 订金规则（固定金额 / 比例）。
  - 自动关闭未支付订单时间。

---

### 2.2 V1.1 范围（增强版）

**用户端**

- 登录方式扩展：账号密码登录（可选）。
- 车商入驻与认证：车商资料提交与审核。  
- 车商信息：在车源详情中展示车商门店信息。  
- 简易 IM 咨询（站内私信式）：
  - 买家对车源发起咨询。  
  - 卖家/车商在卖家端回复。  
- 评价系统：
  - 订单完成后对车源 / 卖家评价。
  - 在车源详情展示评价列表。  
- 投诉系统：
  - 买家可对交易过程发起投诉。
  - 投诉处理结果通知。  
- 退款申请（针对订金订单）：
  - 买家提交退款申请。
  - 后台审核后执行退款（线下 / 人工）。

**卖家 / 车商端**

- 车商入驻管理：查看审核状态、更新资料。  
- 车商车源管理：支持店铺下多辆车源管理。  
- 咨询线索列表：按车源查看买家咨询记录。  
- 卖家数据概览（简版）：
  - 发布车源数、已售数量、订金订单数。

**管理后台**

- 车商入驻审核。  
- 投诉管理：列表、详情、处理记录。  
- 评价管理：屏蔽/删除违规评价。  
- 预约看车后台列表：客服辅助协调。  
- 退款审核：审批订金退款申请，记录处理结果（具体支付退款动作可暂为线下）。  
- 运营管理：
  - Banner 管理。
  - 推荐位管理（推荐车源）。
- 基础报表：
  - 每日新增用户/车源/订单。  
  - 每日订金总额。

---

### 2.3 V2.0 范围（完整交易版）

**用户端**

- 全额线上支付：支持支付全部车款。  
- 支付拆分模式：订金 + 尾款的线上管理。  
- 金融分期方案展示（与合作金融机构联调）。  
- 更完善的 IM（可选 WebSocket / 第三方 IM）。  
- 呼叫平台客服、工单系统。  
- 个人中心：优惠券、活动、金融申请记录等。  

**卖家 / 车商端**

- 结算收益查看：平台与车商结算数据。  
- 线索转化率统计：浏览 → 收藏 → 预约 → 订单。  
- 店铺装修（简单介绍页、门店相册等）。  

**管理后台**

- 完整支付 & 退款自动化处理（对接第三方支付网关）。  
- 结算管理：对车商按规则结算车款 / 服务费。  
- 风控：黑名单、异常订单监控、设备/账号风控策略。  
- 营销系统：
  - 优惠券、活动配置。
  - 渠道跟踪（来源媒介）。  
- 报表中心增强：
  - 转化漏斗。
  - 渠道分析。
  - 车商维度表现等。  

---

## 3. 接口设计总则

### 3.1 基本约定

- 接口前缀：`/api/v1`（用户端）、`/admin/api/v1`（管理后台）。
- 协议：HTTPS。  
- 认证方式：
  - 用户端：登录后返回 `token`（JWT 或自定义），前端在请求头中携带：  
    `Authorization: Bearer {token}`
  - 后台：同上，后台管理员登录后获取后台 token。  
- 请求格式：默认 JSON。  
- 时间格式：统一使用 ISO8601 字符串（如：`2025-12-04T10:00:00+08:00`）或 `yyyy-MM-dd HH:mm:ss`（统一约定）。

### 3.2 统一响应结构

所有接口（除第三方支付回调）统一使用以下结构：

```json
{
  "code": 0,
  "message": "success",
  "data": {}
}
```

- `code`：业务状态码（0 为成功，非 0 为失败）。
- `message`：人类可读说明。
- `data`：实际业务数据对象或数组，没有数据时可为 `null` 或 `{}`。

### 3.3 HTTP 状态码规范

- **200**：业务请求成功（含业务失败情况，通过 `code` 判断）。  
- **400**：请求参数错误（JSON 解析失败、基本格式错误）。  
- **401**：未登录 / token 失效。  
- **403**：无权限访问。  
- **404**：接口不存在。  
- **409**：资源冲突（如重复操作）。  
- **422**：语义错误（例如参数格式对，但业务校验不通过）。  
- **429**：请求过于频繁（如短信发送频率限制）。  
- **500**：服务器内部错误。  

前端以 HTTP 状态码区分大类错误，以 `code` 进行细粒度处理。

### 3.4 业务状态码设计

推荐按模块分段：

- 通用错误：
  - `0`：成功。
  - `1001`：参数校验错误。
  - `1002`：未登录。
  - `1003`：无权限。
  - `1004`：请求过于频繁。
  - `1005`：资源不存在。
  - `1006`：操作失败（通用）。
- 用户 & 认证：
  - `1101`：手机号已注册。
  - `1102`：短信验证码错误或过期。
  - `1103`：账号或密码错误。
  - `1104`：账户已被禁用。
- 实名 & 卖家：
  - `1201`：实名认证审核中，禁止重复提交。
  - `1202`：实名认证未通过。
  - `1203`：非卖家，无发车权限。
- 车源：
  - `2001`：车源不存在。
  - `2002`：车源状态不允许当前操作（例如未审核 / 已售）。
  - `2003`：不允许编辑他人车源。
- 预约：
  - `2101`：预约时间不合法。
  - `2102`：预约已存在（重复预约）。
- 订单 & 支付：
  - `3001`：订单不存在。
  - `3002`：订单状态不允许该操作（已支付 / 已取消）。
  - `3003`：支付失败。
  - `3004`：重复支付。
  - `3005`：退款中 / 已退款，禁止重复申请。
- 评价 & 投诉：
  - `3101`：订单未完成，不允许评价。
  - `3102`：重复评价。
  - `3103`：投诉已存在。

---

## 4. 用户端接口列表（App / H5 / 小程序）

> 说明：本节主要列出接口清单及版本归属，关键接口附请求/响应示例。所有接口默认返回统一响应格式。

### 4.1 认证 & 用户

#### 4.1.1 发送短信验证码

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/auth/sms/send`  
- 描述：发送登录/注册短信验证码。

**Request Body**

```json
{
  "mobile": "13800000000",
  "scene": "login" 
}
```

`scene` 可选值：`login`, `register`, `reset_password` 等。

**Response 成功**

```json
{
  "code": 0,
  "message": "ok",
  "data": null
}
```

可能错误：

| HTTP | code  | message        | 说明         |
|------|------|----------------|--------------|
| 429  | 1004 | too_many_sms   | 发送过于频繁 |
| 400  | 1001 | invalid_param  | 参数错误     |

---

#### 4.1.2 短信登录 / 注册

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/auth/login/sms`  

**Request Body**

```json
{
  "mobile": "13800000000",
  "code": "123456"
}
```

**Response 成功**

```json
{
  "code": 0,
  "message": "ok",
  "data": {
    "token": "jwt-token-string",
    "user": {
      "id": 1,
      "mobile": "13800000000",
      "nickname": "张三",
      "avatar": "",
      "role_type": "buyer", 
      "auth_status": "verified" 
    }
  }
}
```

---

#### 4.1.3 账号密码登录（V1.1）

- 版本：V1.1  
- Method：`POST`  
- URL：`/api/v1/auth/login/password`  

**Request Body**

```json
{
  "mobile": "13800000000",
  "password": "******"
}
```

---

#### 4.1.4 获取当前用户信息

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/user/profile`  
- Header：`Authorization: Bearer {token}`

---

#### 4.1.5 更新当前用户信息

- 版本：V1.0  
- Method：`PUT`  
- URL：`/api/v1/user/profile`  

**Request Body（示例）**

```json
{
  "nickname": "新昵称",
  "avatar": "https://..."
}
```

---

### 4.2 实名认证 & 卖家入驻

#### 4.2.1 提交个人实名认证

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/user/identity`  

**Request Body**

```json
{
  "real_name": "张三",
  "id_card_no": "110101199001010000",
  "front_image": "https://...",
  "back_image": "https://..."
}
```

---

#### 4.2.2 查询实名认证状态

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/user/identity`  

---

#### 4.2.3 提交车商入驻资料（V1.1）

- 版本：V1.1  
- Method：`POST`  
- URL：`/api/v1/seller/dealer/apply`  

**Request Body**

```json
{
  "company_name": "XX二手车行",
  "license_image": "https://...",
  "store_name": "XX精品二手车",
  "store_address": "北京市朝阳区...",
  "contact_name": "李四",
  "contact_mobile": "13900000000"
}
```

---

### 4.3 首页 & 车源浏览

#### 4.3.1 首页数据

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/home`  
- 描述：返回 Banner、快捷入口、推荐车源列表等。

---

#### 4.3.2 车源列表查询

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/cars`  

**Query 参数示例**

```text
keyword=宝马
brand_id=1
series_id=10
min_price=5
max_price=20
min_age=0
max_age=8
min_mileage=0
max_mileage=15
city_code=110100
source_type=personal|dealer
sort=price_asc|price_desc|time_desc|mileage_asc
page=1
page_size=20
```

**Response data 示例**

```json
{
  "code": 0,
  "message": "ok",
  "data": {
    "list": [
      {
        "id": 1001,
        "title": "宝马3系 2018款 320Li",
        "cover_image": "https://...",
        "price": 18.8,
        "mileage": 5.6,
        "first_reg_date": "2018-08-01",
        "city_name": "北京",
        "source_type": "dealer"
      }
    ],
    "page": 1,
    "page_size": 20,
    "total": 200
  }
}
```

---

#### 4.3.3 车源详情

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/cars/{id}`  

---

### 4.4 收藏 & 浏览记录

#### 4.4.1 收藏车源

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/cars/{id}/favorite`  

#### 4.4.2 取消收藏

- 版本：V1.0  
- Method：`DELETE`  
- URL：`/api/v1/cars/{id}/favorite`  

#### 4.4.3 收藏列表

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/user/favorites`  

#### 4.4.4 浏览记录列表

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/user/histories`  

---

### 4.5 卖家 & 车源管理

> 需登录且具备卖家角色（个人实名认证通过）。

#### 4.5.1 发布车源

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/seller/cars`  

**Request Body（简化示例）**

```json
{
  "title": "大众高尔夫 2017款",
  "brand_id": 2,
  "series_id": 20,
  "model_id": 200,
  "first_reg_date": "2017-05-01",
  "mileage": 6.5,
  "displacement": 1.4,
  "gearbox": "AT",
  "emission_standard": "国五",
  "use_type": "family",
  "transfer_count": 1,
  "city_code": "110100",
  "address": "北京市朝阳区...",
  "price": 8.5,
  "images": [
    "https://...1",
    "https://...2"
  ],
  "highlight_desc": "一手车，保养良好"
}
```

---

#### 4.5.2 编辑车源

- 版本：V1.0  
- Method：`PUT`  
- URL：`/api/v1/seller/cars/{id}`  

#### 4.5.3 卖家车源列表

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/seller/cars`  

#### 4.5.4 修改车源状态（上架/下架/已售）

- 版本：V1.0  
- Method：`PUT`  
- URL：`/api/v1/seller/cars/{id}/status`  

**Request Body**

```json
{
  "status": "on" 
}
```

可选值：`on`（上架）、`off`（下架）、`sold`（已售）。

---

### 4.6 预约看车

#### 4.6.1 创建预约

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/cars/{id}/appointments`  

**Request Body**

```json
{
  "book_time": "2025-12-06 14:00:00",
  "remark": "希望下午看车"
}
```

#### 4.6.2 买家预约列表

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/user/appointments`  

#### 4.6.3 卖家预约列表

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/seller/appointments`  

#### 4.6.4 卖家处理预约（确认 / 拒绝 / 修改时间）

- 版本：V1.0  
- Method：`PUT`  
- URL：`/api/v1/seller/appointments/{id}`  

**Request Body**

```json
{
  "action": "confirm", 
  "book_time": "2025-12-06 15:00:00", 
  "reason": "时间调整" 
}
```

`action` 可选：`confirm`, `reject`, `update_time`。

---

### 4.7 订单 & 支付

#### 4.7.1 创建订金订单

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/orders`  

**Request Body**

```json
{
  "car_id": 1001,
  "order_type": "deposit", 
  "amount": 2000 
}
```

**Response data（成功）**

```json
{
  "code": 0,
  "message": "ok",
  "data": {
    "order_id": 5001,
    "order_no": "D202512040001"
  }
}
```

---

#### 4.7.2 获取订单详情

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/orders/{id}`  

---

#### 4.7.3 订单列表

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/orders`  

**Query 示例**

```text
status=pending|paid|cancelled|refunding|refunded
page=1
page_size=20
```

---

#### 4.7.4 调起支付

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/orders/{id}/pay`  

**Request Body**

```json
{
  "channel": "wechat_app"
}
```

**Response data（示例）**

```json
{
  "code": 0,
  "message": "ok",
  "data": {
    "pay_params": {
      "appId": "...",
      "nonceStr": "...",
      "package": "...",
      "signType": "MD5",
      "timeStamp": "....",
      "paySign": "...."
    }
  }
}
```

---

#### 4.7.5 取消订单

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/orders/{id}/cancel`  

---

#### 4.7.6 申请退款（V1.1）

- 版本：V1.1  
- Method：`POST`  
- URL：`/api/v1/orders/{id}/refund`  

**Request Body**

```json
{
  "reason": "车辆情况与描述不符"
}
```

---

#### 4.7.7 第三方支付回调（服务端）

- 版本：V1.0  
- Method：`POST`  
- URL：`/api/v1/payment/notify/{channel}`  

> 说明：该接口由支付渠道回调调用，不对前端开放，需按三方文档实现。

---

### 4.8 评价 & 投诉（V1.1）

#### 4.8.1 提交评价

- 版本：V1.1  
- Method：`POST`  
- URL：`/api/v1/orders/{id}/comments`  

**Request Body**

```json
{
  "score": 5,
  "tags": ["描述相符", "服务好"],
  "content": "车况很好，态度好",
  "images": []
}
```

#### 4.8.2 获取车源评价列表

- 版本：V1.1  
- Method：`GET`  
- URL：`/api/v1/cars/{id}/comments`  

#### 4.8.3 提交投诉

- 版本：V1.1  
- Method：`POST`  
- URL：`/api/v1/complaints`  

**Request Body**

```json
{
  "order_id": 5001,
  "type": "car_not_match", 
  "content": "实车与描述差距较大",
  "images": []
}
```

---

### 4.9 消息中心

#### 4.9.1 消息列表

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/messages`  

**Query**

```text
type=system|order|audit
page=1
page_size=20
```

#### 4.9.2 消息详情

- 版本：V1.0  
- Method：`GET`  
- URL：`/api/v1/messages/{id}`  

---

## 5. 管理后台接口列表（/admin/api/v1）

> 说明：所有后台接口需要管理员登录，并基于角色进行权限控制。

### 5.1 管理员认证 & 权限

#### 5.1.1 管理员登录

- Method：`POST`  
- URL：`/admin/api/v1/auth/login`  

**Request Body**

```json
{
  "username": "admin",
  "password": "******"
}
```

**Response data**

```json
{
  "code": 0,
  "message": "ok",
  "data": {
    "token": "admin-jwt-token",
    "user": {
      "id": 1,
      "username": "admin",
      "roles": ["SUPER_ADMIN"]
    }
  }
}
```

#### 5.1.2 获取当前管理员信息

- Method：`GET`  
- URL：`/admin/api/v1/auth/profile`  

#### 5.1.3 获取菜单 & 权限列表

- Method：`GET`  
- URL：`/admin/api/v1/auth/menus`  

---

### 5.2 用户 & 卖家管理

#### 5.2.1 用户列表

- Method：`GET`  
- URL：`/admin/api/v1/users`  

**Query**

```text
mobile=138
auth_status=unverified|pending|verified|rejected
status=enabled|disabled
page=1
page_size=20
```

#### 5.2.2 用户详情

- Method：`GET`  
- URL：`/admin/api/v1/users/{id}`  

#### 5.2.3 修改用户状态（禁用/启用）

- Method：`PUT`  
- URL：`/admin/api/v1/users/{id}/status`  

**Request Body**

```json
{
  "status": "disabled",
  "reason": "违规操作"
}
```

---

### 5.3 实名认证 & 车商审核

#### 5.3.1 实名认证审核列表

- Method：`GET`  
- URL：`/admin/api/v1/identities`  

#### 5.3.2 实名审核处理

- Method：`PUT`  
- URL：`/admin/api/v1/identities/{id}`  

**Request Body**

```json
{
  "action": "approve", 
  "reason": "" 
}
```

#### 5.3.3 车商入驻申请列表（V1.1）

- Method：`GET`  
- URL：`/admin/api/v1/dealer/applications`  

#### 5.3.4 车商入驻审核（V1.1）

- Method：`PUT`  
- URL：`/admin/api/v1/dealer/applications/{id}`  

---

### 5.4 车源管理

#### 5.4.1 车源列表

- Method：`GET`  
- URL：`/admin/api/v1/cars`  

**Query**

```text
status=pending|approved|rejected|on|off|sold
owner_type=personal|dealer
brand_id=1
city_code=110100
page=1
page_size=20
```

#### 5.4.2 车源详情

- Method：`GET`  
- URL：`/admin/api/v1/cars/{id}`  

#### 5.4.3 车源审核

- Method：`PUT`  
- URL：`/admin/api/v1/cars/{id}/audit`  

**Request Body**

```json
{
  "action": "approve",
  "reason": ""
}
```

`action`：`approve` / `reject`。

#### 5.4.4 后台上架/下架

- Method：`PUT`  
- URL：`/admin/api/v1/cars/{id}/status`  

**Request Body**

```json
{
  "status": "on",
  "reason": "运营推荐"
}
```

---

### 5.5 订单 & 支付管理

#### 5.5.1 订单列表

- Method：`GET`  
- URL：`/admin/api/v1/orders`  

**Query**

```text
order_no=D2025
status=pending|paid|cancelled|refunding|refunded
buyer_mobile=138
seller_id=1
page=1
page_size=20
```

#### 5.5.2 订单详情

- Method：`GET`  
- URL：`/admin/api/v1/orders/{id}`  

#### 5.5.3 发起退款（人工）（V1.1）

- Method：`POST`  
- URL：`/admin/api/v1/orders/{id}/refund`  

**Request Body**

```json
{
  "amount": 2000,
  "reason": "后台人工退款"
}
```

> V1.1 可先记录退款操作，资金实际处理线下完成。V2.0 再接入自动退款。

---

### 5.6 预约 & 投诉 & 评价管理

#### 5.6.1 预约列表

- Method：`GET`  
- URL：`/admin/api/v1/appointments`  

#### 5.6.2 投诉列表（V1.1）

- Method：`GET`  
- URL：`/admin/api/v1/complaints`  

#### 5.6.3 投诉处理（V1.1）

- Method：`PUT`  
- URL：`/admin/api/v1/complaints/{id}`  

**Request Body**

```json
{
  "status": "resolved",
  "result": "已与双方沟通，协商退款部分订金"
}
```

#### 5.6.4 评价列表（V1.1）

- Method：`GET`  
- URL：`/admin/api/v1/comments`  

#### 5.6.5 评价屏蔽 / 删除（V1.1）

- Method：`PUT`  
- URL：`/admin/api/v1/comments/{id}/status`  

**Request Body**

```json
{
  "status": "hidden",
  "reason": "涉敏感词"
}
```

---

### 5.7 运营管理（Banner / 推荐位 / 资讯）（V1.1）

#### 5.7.1 Banner 列表

- Method：`GET`  
- URL：`/admin/api/v1/banners`  

#### 5.7.2 创建 Banner

- Method：`POST`  
- URL：`/admin/api/v1/banners`  

**Request Body**

```json
{
  "title": "双12限时活动",
  "image": "https://...",
  "link": "https://...",
  "start_time": "2025-12-10 00:00:00",
  "end_time": "2025-12-12 23:59:59",
  "status": "on",
  "sort": 1
}
```

#### 5.7.3 编辑/删除 Banner 等 CRUD 接口略，同样结构。

---

### 5.8 报表 & 统计（V1.1/V2.0）

#### 5.8.1 概览统计（V1.1）

- Method：`GET`  
- URL：`/admin/api/v1/stats/overview`  

**Query**

```text
date=2025-12-04
```

**Response 示例**

```json
{
  "code": 0,
  "message": "ok",
  "data": {
    "new_users": 100,
    "new_cars": 30,
    "new_orders": 20,
    "paid_orders": 15,
    "deposit_amount": 30000
  }
}
```

#### 5.8.2 转化漏斗 / 渠道统计（V2.0）

- 预留接口，如：`/admin/api/v1/stats/funnel`, `/admin/api/v1/stats/channel` 等。

---

### 5.9 配置 & 字典（V1.0+）

#### 5.9.1 获取品牌车系车型

- Method：`GET`  
- URL：`/api/v1/meta/brands`  

前端用于下拉选择。后台维护接口：

- `GET /admin/api/v1/meta/brands`
- `POST /admin/api/v1/meta/brands`
- `PUT /admin/api/v1/meta/brands/{id}`
- `DELETE /admin/api/v1/meta/brands/{id}`

#### 5.9.2 获取城市列表

- Method：`GET`  
- URL：`/api/v1/meta/cities`  

#### 5.9.3 获取字典项（变速箱类型、排放标准等）

- Method：`GET`  
- URL：`/api/v1/meta/dicts/{type}`  

---

## 6. 按版本划分接口优先级（示例）

| 模块       | 接口示例                              | 版本  |
| ---------- | ------------------------------------- | ----- |
| 认证       | /auth/sms/send                        | V1.0  |
| 认证       | /auth/login/sms                       | V1.0  |
| 用户       | /user/profile (GET/PUT)               | V1.0  |
| 实名       | /user/identity (GET/POST)             | V1.0  |
| 车源浏览   | /home, /cars, /cars/{id}              | V1.0  |
| 收藏       | /cars/{id}/favorite, /user/favorites  | V1.0  |
| 卖家车源   | /seller/cars*                         | V1.0  |
| 预约       | /cars/{id}/appointments               | V1.0  |
| 订单       | /orders*, /orders/{id}/pay            | V1.0  |
| 消息       | /messages*                            | V1.0  |
| 车商入驻   | /seller/dealer/apply                  | V1.1  |
| 评价       | /orders/{id}/comments, /cars/{id}/comments | V1.1 |
| 投诉       | /complaints                           | V1.1  |
| 退款       | /orders/{id}/refund                   | V1.1  |
| 后台用户   | /admin/users*                         | V1.0  |
| 后台实名   | /admin/identities*                    | V1.0  |
| 后台车源   | /admin/cars*                          | V1.0  |
| 后台订单   | /admin/orders*                        | V1.0  |
| 后台退款   | /admin/orders/{id}/refund             | V1.1  |
| 投诉管理   | /admin/complaints*                    | V1.1  |
| 评价管理   | /admin/comments*                      | V1.1  |
| Banner     | /admin/banners*                       | V1.1  |
| 报表       | /admin/stats/overview                 | V1.1  |
| 结算 & 营销 | /admin/settlements*, /admin/coupons* | V2.0  |

> 说明：具体实现时可在需求评审会上再按实际资源对 V1.0 / V1.1 边界微调，但整体结构建议保持不变，方便长期演进。

---

## 7. 落地建议

- **第一步**：以 V1.0 范围为基准，前后端根据接口清单和字段定义进行接口评审，补齐缺失字段。  
- **第二步**：在 Swagger / Apifox / Postman 中根据本文档拉齐接口文档，作为开发与联调唯一标准。  
- **第三步**：在迭代规划中保持版本“竖切”，优先保障 V1.0 链路（看车 → 预约 → 订金 → 成交记录）完全可用。

如需，我可以在下一步帮你把这些接口拆成 **Apifox/Swagger 示例 JSON**，或按你的技术栈（如 Spring Boot、NestJS 等）生成基础 Controller 模板代码。
