# 二手车交易平台产品需求文档（PRD）

---

## 0. 文档信息

| 项目    | 内容                            |
| ----- | ----------------------------- |
| 项目名称  | 二手车交易平台                       |
| 版本    | v1.0                          |
| 更新时间  | 2025-12-04                    |
| 适用端   | 用户端（App / H5 / 小程序）、管理后台（Web） |
| 产品负责人 | TBD                           |

> 说明：本版本为整体功能需求文档，重点描述**用户端 + 管理端**的功能模块、核心流程和关键字段，供产品、研发、测试统一理解。

---

## 1. 产品概述

### 1.1 背景

* 搭建一个面向 C 端用户的二手车交易平台，支持个人车主、车商发布车源，买家在线浏览、筛选、预约看车、支付订金/车款，平台提供审核、撮合、结算等服务。

### 1.2 产品目标

* 为买家提供：真实可靠的二手车信息、便捷的在线选车 & 预约流程、安全支付。
* 为卖家（车主/车商）提供：高效的车源发布入口、线索获取、成交结算服务。
* 为平台运营提供：完善的审核、风控、内容运营、数据分析能力。

### 1.3 角色定义

* 游客：未登录用户，可浏览车源、搜索筛选。
* 注册用户（买家）：可收藏、预约看车、下单、支付、评价。
* 卖家（个人车主）：可发布车源、管理车源、处理预约。
* 车商：可管理多辆车源、查看线索、成交情况。
* 管理员（运营）：管理车源审核、用户、订单、内容、营销。
* 财务/风控：负责资金对账、退款审核、风控策略实施。
* 超级管理员：管理后台账号 & 权限配置、系统参数。

---

## 2. 核心业务流程

### 2.1 买家流程（线上 + 线下）

1. 访问平台（App / H5 / 小程序），浏览首页推荐车源。
2. 使用搜索/筛选找到目标车辆列表。
3. 查看车辆详情（车辆信息、检测报告、价格、卖家信息）。
4. 发起**在线咨询**或**预约看车**。
5. 根据规则：

   * 支付订金（可选）；
   * 或线下直接看车。
6. 线下看车 → 达成交易意向：

   * 可选择在线支付全部/部分车款（支持线下完成，线上记录）。
7. 平台/卖家交车 → 订单完成。
8. 买家对本次交易进行评价，可发起投诉。

### 2.2 卖家流程（个人/车商）

1. 注册/登录 → 实名认证 → 卖家入驻（车商需额外认证）。
2. 发布车源 → 提交审核。
3. 审核通过 → 车源上架。
4. 接收买家咨询/预约看车。
5. 线下看车/试驾 → 确认成交。
6. 确认交易完成 → 平台结算资金（车商/平台模式可配置）。
7. 查看评价与数据统计。

### 2.3 平台运营/审核流程

1. 用户实名认证审核。
2. 车商入驻审核（资质、门店信息）。
3. 车源审核（合法性、真实性、信息完整度）。
4. 订单审核（异常订单、退款申请）。
5. 风控（高风险用户、黑名单、敏感操作监控）。
6. 资金对账、结算。

---

## 3. 用户端（买家 & 卖家）功能需求

### 3.1 公共模块

#### 3.1.1 注册 / 登录

* 支持方式：

  * 手机号 + 短信验证码登录（推荐主登录方式）。
  * 账号 + 密码登录（选配）。
  * 第三方登录（微信/支付宝等，后期迭代）。
* 功能点：

  * 验证码发送频率限制、防刷机制。
  * 首次登录提示完善个人资料。
  * 登录态保持 & 过期处理（Token/Session）。

#### 3.1.2 实名认证

* 类型：

  * 个人实名认证：姓名 + 身份证号 + 身份证正反照（可选 OCR）。
  * 车商认证：营业执照、门店照片、对公账户等。
* 流程：

  * 用户提交资料 → 状态为“审核中”。
  * 后台审核通过/拒绝 → 通知用户。
* 状态：

  * 未认证 / 审核中 / 已通过 / 已拒绝（附拒绝原因）。

#### 3.1.3 消息通知

* 消息类型：

  * 系统通知（活动、公告）。
  * 订单通知（状态变更：预约成功、支付成功、退款结果等）。
  * 审核通知（实名认证、车源审核、入驻审核）。
* 通道：

  * 站内消息中心。
  * Push / 短信（可配置是否开启）。
* 交互：

  * 消息列表：按时间排序，可标记已读。
  * 消息详情：展示详细文案和相关业务跳转。

#### 3.1.4 设置 & 安全

* 功能项：

  * 账号信息查看（手机号、实名状态）。
  * 修改/绑定手机号。
  * 登录密码设置/修改/找回。
  * 第三方账号绑定/解绑。
  * 隐私设置（是否展示完整手机号等）。
  * 退出登录。

---

### 3.2 买家功能

#### 3.2.1 首页

* 内容结构：

  * 顶部搜索框（支持品牌、车系、关键词搜索）。
  * 轮播 Banner（运营配置）。
  * 快捷入口：按价格区间、车龄、热门品牌等。
  * 推荐车源：算法/规则推荐，支持左右滑动/列表展示。
  * 热门资讯/购车攻略（运营配置）。
* 交互要求：

  * 下拉刷新 / 上拉加载更多。
  * 首页内容可配置（后台控制排序、显示/隐藏）。

#### 3.2.2 搜索 & 筛选

* 搜索：

  * 支持按关键词（品牌/车系/车牌/标题）搜索。
  * 搜索历史记录 & 热门搜索词。
* 筛选维度（可配置）：

  * 品牌 / 车系 / 车型。
  * 价格区间。
  * 车龄（上牌时间）范围。
  * 行驶里程区间。
  * 变速箱（手动/自动/其它）。
  * 排量。
  * 排放标准（国三/国四/国五/国六…）。
  * 车辆来源（个人 / 车商）。
  * 所在城市/区域。
* 排序：

  * 默认排序（推荐）。
  * 价格：从低到高/从高到低。
  * 上架时间：最新。
  * 里程：从低到高。

#### 3.2.3 车辆列表页

* 展示字段（列表卡片）：

  * 车辆封面图。
  * 标题（品牌 + 车系 + 年款 + 关键卖点）。
  * 价格（现价）、是否支持分期（标签）。
  * 车龄（上牌年月）、里程（万公里）。
  * 所在城市。
  * 车源类型标签：个人车 / 车商。
* 操作：

  * 点击卡片进入车辆详情。
  * 收藏按钮。
  * 已售车源标记“已售”。

#### 3.2.4 车辆详情页

**主要信息模块：**

1. 图片/视频：

   * 支持多张图片轮播。
   * 支持1个短视频（选配）。
2. 核心信息：

   * 车辆标题、价格。
   * 分期方案（每月预估还款，需后台配置金融参数）。
   * 车源编号（用于客服及线下沟通）。
3. 车辆基本信息字段（建议至少包括）：

| 字段           | 说明             |
| ------------ | -------------- |
| 品牌 / 车系 / 车型 | 结构化品牌信息        |
| 上牌时间         | 年月             |
| 行驶里程         | 万公里            |
| 排量           | 如 1.6L         |
| 变速箱          | 自动 / 手动        |
| 排放标准         | 国四 / 国五 / 国六等  |
| 车辆性质         | 家用 / 营运 / 公务等  |
| 过户次数         | 0 / 1 / 2 / 3+ |
| 年检到期         | 年月             |
| 保险到期         | 年月             |
| 车牌归属地        | 省市             |
| 车身颜色         |                |
| 车辆所在地        | 具体城市/区         |

4. 车辆亮点描述：

   * 文本描述，支持分点展示（如“准新车”、“一手车主”等）。
5. 车辆检测报告（如有）：

   * 简要检测结果摘要（是否重大事故、火烧、水浸等）。
   * 检测详细报告链接或图片。
6. 费用信息：

   * 车价。
   * 税费参考（购置税剩余、过户费用说明）。
   * 服务费（如有平台服务费，需要清晰说明）。
7. 卖家信息：

   * 卖家昵称 / 车商名称。
   * 认证状态（已认证个人 / 认证车商）。
   * 联系方式（平台中间号或脱敏手机号）。
   * 门店地址（车商）。
8. 操作区：

   * 立即咨询（跳转 IM）。
   * 预约看车。
   * 支付订金（可选）。
   * 收藏、分享。

#### 3.2.5 在线咨询（IM）

* 功能需求：

  * 买家可在车详情页点击“立即咨询”发起聊天。
  * 支持文字、图片（车况补充、资料）。
  * 支持快速回复模板（后期可配置）。
* 会话管理：

  * 按车源维度区分会话。
  * 支持查看历史聊天记录。
* 状态：

  * 在线/离线状态显示（车商可配置工作时间）。

#### 3.2.6 预约看车

* 创建预约：

  * 在车辆详情页点击“预约看车”。
  * 选择日期 + 时间段。
  * 填写备注（可选）。
* 状态流转：

  * 待确认：买家提交后，卖家/车商待确认。
  * 已确认：卖家确认预约时间。
  * 已完成：线下看车完成（由卖家/平台标记）。
  * 已取消：双方任一方取消，记录取消原因。
  * 已失效：未在预约时间内处理，自动失效。
* 提醒：

  * 提前 X 小时推送“即将看车”提醒消息。

#### 3.2.7 下单 & 支付

> 注：可以先支持“支付订金 + 线下补尾款”的模式，后续扩展全额线上支付。

* 下单入口：

  * 车辆详情页按钮“支付订金”。
* 订单字段（核心）：

| 字段      | 说明        |
| ------- | --------- |
| 订单号     | 唯一编号      |
| 车源ID    | 对应车辆      |
| 买家ID    |           |
| 卖家ID    |           |
| 订金金额    | 单位：元      |
| 总车价     | 用于后续统计    |
| 支付方式    | 微信/支付宝/其它 |
| 订单状态    | 见下        |
| 创建时间    |           |
| 支付时间    |           |
| 取消/关闭时间 |           |

* 订单状态：

  * 待支付。
  * 支付中。
  * 已支付。
  * 已取消（付款前用户主动取消）。
  * 已关闭（超时未支付自动关闭）。
  * 已退款（退款成功）。
* 支付流程：

  * 创建订单 → 调用支付 → 支付成功回调 → 修改订单状态 & 生成支付记录。
  * 支付失败或取消 → 订单维持/更新状态。
* 退款规则（初版业务说明）：

  * 可设置订金是否可退、在何种条件可退（后台配置），在订单详情中明示。

#### 3.2.8 订单管理（买家）

* 列表：

  * 按状态筛选：全部 / 待支付 / 已支付 / 已取消 / 已关闭 / 已退款。
  * 展示基本信息：车源封面、标题、订金金额、订单状态。
* 详情：

  * 订单基础信息 + 车源信息 + 支付信息 + 退款信息（如有）。
  * 操作：

    * 支付（待支付时）。
    * 取消订单。
    * 售后/退款申请入口（如支撑）。
    * 联系客服。

#### 3.2.9 评价 & 投诉

* 评价：

  * 评价对象：车源 + 卖家服务。
  * 评价维度：

    * 星级评分（1–5 星）。
    * 标签（例：描述相符、服务很好、车况一般等，可配置）。
    * 文字内容。
    * 图片上传（最多 9 张）。
  * 时间：交易完成后 X 天内可评价。
* 投诉：

  * 投诉类型（可配置）：车况与描述不符 / 服务态度差 / 价格纠纷 / 其他。
  * 提交内容：文字说明 + 图片证据。
  * 投诉处理结果通过消息通知。

#### 3.2.10 买家个人中心

* 我的订单。
* 我的预约。
* 我的收藏：

  * 收藏的车源列表，可取消收藏。
* 浏览足迹：

  * 最近浏览车源记录。
* 我的评价。
* 我的优惠券（后续营销模块）。
* 账户 & 设置（见 3.1.4）。

---

### 3.3 卖家功能（个人车主/车商）

#### 3.3.1 卖家入驻

* 个人卖家：

  * 完成实名认证即可发布车辆（可做轻量入驻）。
* 车商：

  * 需提交：公司名称、营业执照、门店地址、门店照片、联系人、联系方式等。
  * 审核通过后，获得车商后台权限。

#### 3.3.2 发布车源

* 表单字段示例：

| 分组      | 字段示例                          |
| ------- | ----------------------------- |
| 基本信息    | 品牌、车系、车型、年款、上牌时间              |
| 车况信息    | 行驶里程、排量、变速箱、油耗、排放标准、车辆性质、过户次数 |
| 车辆配置    | 天窗、导航、座椅（真皮/织物）、倒车影像等（可勾选）    |
| 价格信息    | 售价、一口价/可议价标识、原始购车价（可选）        |
| 位置 & 牌照 | 所在城市、详细地址、车牌归属地               |
| 多媒体     | 车辆图片（至少 X 张）、视频（可选）           |
| 描述      | 卖点描述                          |
| 检测报告    | 上传检测报告图片/链接（可选）               |

* 流程：

  * 填写表单 → 提交 → 状态为“待审核”。
  * 审核通过 → 可上架（默认自动上架，后台可配置）。
  * 审核拒绝 → 返回理由，卖家可修改后重新提交。

#### 3.3.3 车源管理（卖家）

* 列表：

  * 分类：全部 / 审核中 / 已上架 / 已下架 / 已售 / 审核拒绝。
  * 展示：封面、标题、价格、状态、更新时间。
* 操作：

  * 编辑车源。
  * 上架/下架。
  * 标记已售（如线下已售出）。
  * 查看预约列表 & 咨询记录。

#### 3.3.4 卖家预约 & 线索管理

* 预约列表：

  * 查看每辆车的预约记录。
  * 筛选：时间、车源、状态。
  * 操作：确认/拒绝预约，修改时间。
* 咨询线索：

  * IM 对话列表。
  * 未读消息提醒。

#### 3.3.5 成交 & 结算查看（初版可简化）

* 成交订单列表：

  * 车源、订金/车款金额、买家信息、成交时间。
* 结算状态（基于平台与车商结算模式）：

  * 待结算 / 已结算。

---

### 3.4 通用个人中心结构（摘要）

* 个人资料（头像、昵称、手机号、实名状态）。
* 身份切换（买家 / 卖家 / 车商，仅当有对应权限）。
* 消息中心入口。
* 帮助与客服：

  * 在线客服入口。
  * 常见问题 FAQ。
* 关于我们 / 平台协议 / 隐私政策。

---

## 4. 管理后台功能需求

### 4.1 登录 & 权限管理

* 登录：

  * 账号 + 密码 + 图形验证码。
* 权限模型：

  * 基于角色的权限控制（RBAC）。
  * 角色示例：超级管理员、运营、审核员、财务、客服等。
  * 支持菜单级 & 按钮级权限（查看、新增、编辑、删除、导出等）。

### 4.2 用户 & 卖家管理

* 用户管理：

  * 列表：手机号、昵称、注册时间、状态（正常/禁用）、实名状态。
  * 操作：

    * 查看详情（包含评价记录、订单记录）。
    * 禁用/解禁账号。
* 实名认证审核：

  * 查看提交的证件资料。
  * 审核通过/拒绝（填写拒绝理由）。
* 卖家/车商管理：

  * 车商信息列表：名称、联系人、入驻时间、状态。
  * 审核车商入驻申请。
  * 配置车商的费用/结算模式（可选）。

### 4.3 车源管理

* 车源列表：

  * 筛选条件：车源ID、标题、品牌、车商/个人、城市、状态、上架时间。
  * 状态：

    * 草稿。
    * 待审核。
    * 审核通过-未上架。
    * 已上架。
    * 已下架。
    * 审核拒绝。
    * 已售。
* 详情：

  * 全部车辆字段、图片、描述、检测报告。
  * 历史操作记录（谁在什么时间修改了什么）。
* 操作：

  * 上架/下架（支持批量）。
  * 编辑（允许运营在特殊字段上修改，需记录日志）。
  * 审核通过/拒绝。

### 4.4 审核中心

* 集中处理以下审核任务：

  * 实名认证审核。
  * 车商入驻审核。
  * 车源审核。
  * 评价/投诉审核（包括敏感词）。
* 支持按审核类型、时间、状态筛选。
* 支持批量审核操作（如车源审核通过）。

### 4.5 订单 & 交易管理

* 订单列表：

  * 筛选：订单号、车源ID/标题、买家手机号、卖家/车商、状态、时间范围、支付方式。
  * 展示：核心字段 + 当前状态。
* 订单详情：

  * 订单基础信息。
  * 支付流水记录。
  * 操作日志。
* 操作：

  * 手动调整订单状态（极端异常情况下，需权限 & 日志）。
  * 发起退款 / 审核退款（如业务需要）。
  * 导出订单列表（Excel）。

### 4.6 支付 & 对账管理

* 支付记录：

  * 交易号、订单号、支付渠道、金额、支付时间、状态。
* 对账：

  * 与第三方支付渠道对账（成功/失败订单对比）。
* 资金统计：

  * 每日/每周/月收款金额、退款金额。

### 4.7 预约看车管理（后台视角）

* 预约列表：

  * 筛选：车源、卖家、买家、时间、状态。
* 用途：

  * 供客服辅助协调预约（变更时间、取消等）。
  * 查看异常预约（长时间未确认等）。

### 4.8 评价 & 投诉管理

* 评价列表：

  * 筛选：车源、买家、评分、是否展示、时间。
  * 操作：屏蔽/删除评价（前台隐藏，但保留后台记录）、标记精选评价。
* 投诉管理：

  * 投诉单列表：类型、状态（待处理/处理中/已处理）、时间。
  * 处理过程记录：

    * 处理人、处理时间、处理结果。
  * 结果同步给用户（消息）。

### 4.9 内容运营管理

* Banner管理：

  * 配置首页轮播：图片、跳转链接、排序、有效期。
* 推荐位管理：

  * 配置首页/列表的特殊推荐车源。
* 资讯/攻略管理：

  * 发布车辆相关文章：标题、封面、内容、标签、排序。

### 4.10 营销管理（可择期实现）

* 优惠券管理：

  * 类型：满减券、折扣券、现金券等。
  * 配置：有效期、适用范围（车源/车商）、发放方式（自动发放/兑换码）。
* 活动管理：

  * 如：限时折扣、节日活动页面配置。

### 4.11 消息推送管理

* 模板管理：

  * 各类业务消息的模板，支持变量占位（如{{用户名}}、{{订单号}}）。
* 发送记录：

  * 查看每条消息发送状态（成功/失败）、渠道。

### 4.12 报表 & 数据统计

* 统计维度：

  * 用户：新增注册、活跃用户量。
  * 车源：新增车源数、上架数、已售数。
  * 订单：订单数、订单金额、支付率、退款率。
  * 转化：浏览 → 收藏 → 预约 → 支付的漏斗。
* 展示形式：

  * 图表 + 数据表（支持按时间、车商等维度筛选）。
* 导出：

  * 支持导出报表为 Excel。

### 4.13 系统配置

* 城市 & 区域管理。
* 车辆品牌 / 车系 / 车型管理。
* 字典配置：

  * 变速箱类型、排放标准、车辆用途、投诉类型等。
* 参数配置：

  * 订金比例/固定值、自动关闭订单时间、预约自动失效时间、登录安全策略等。
* 日志管理：

  * 记录后台所有关键操作（删改审核等），用于追责。

---

## 5. 关键数据结构示例（给研发参考）

> 以下为示例字段，实际以数据建模为准，可在此基础上扩展。

### 5.1 用户表（User）

| 字段          | 类型       | 说明           |
| ----------- | -------- | ------------ |
| id          | int      | 用户ID         |
| mobile      | string   | 手机号          |
| password    | string   | 密码（加密存储）     |
| nickname    | string   | 昵称           |
| avatar      | string   | 头像URL        |
| real_name   | string   | 真实姓名         |
| id_card     | string   | 身份证号         |
| auth_status | enum     | 实名状态         |
| role_type   | enum     | 普通用户/个人卖家/车商 |
| status      | enum     | 正常/禁用        |
| created_at  | datetime | 注册时间         |
| updated_at  | datetime | 更新时间         |

### 5.2 车辆表（Car）

| 字段                | 类型       | 说明                |
| ----------------- | -------- | ----------------- |
| id                | int      | 车辆ID              |
| title             | string   | 车源标题              |
| owner_id          | int      | 卖家用户ID            |
| source_type       | enum     | 个人/车商             |
| brand_id          | int      | 品牌ID              |
| series_id         | int      | 车系ID              |
| model_id          | int      | 车型ID              |
| first_reg_date    | date     | 上牌日期              |
| mileage           | decimal  | 行驶里程（万公里）         |
| displacement      | decimal  | 排量                |
| gearbox           | enum     | 变速箱类型             |
| emission_standard | enum     | 排放标准              |
| use_type          | enum     | 车辆用途              |
| transfer_count    | int      | 过户次数              |
| city_code         | string   | 所在城市编码            |
| address           | string   | 车辆具体所在地           |
| price             | decimal  | 售价                |
| original_price    | decimal  | 新车指导价（可选）         |
| status            | enum     | 草稿/待审核/已上架/已下架/已售 |
| cover_image       | string   | 封面图URL            |
| images            | json     | 图片列表              |
| video             | string   | 视频URL（可选）         |
| highlight_desc    | string   | 卖点描述              |
| inspection_report | string   | 检测报告URL/存储路径      |
| created_at        | datetime | 创建时间              |
| updated_at        | datetime | 更新时间              |

### 5.3 订单表（Order）

| 字段            | 类型       | 说明          |
| ------------- | -------- | ----------- |
| id            | int      | 订单ID        |
| order_no      | string   | 订单编号        |
| car_id        | int      | 车源ID        |
| buyer_id      | int      | 买家ID        |
| seller_id     | int      | 卖家ID        |
| amount        | decimal  | 订金/支付金额     |
| total_price   | decimal  | 车辆总价        |
| pay_channel   | enum     | 支付渠道        |
| status        | enum     | 订单状态        |
| created_at    | datetime | 创建时间        |
| pay_time      | datetime | 支付时间        |
| cancel_time   | datetime | 取消时间        |
| refund_status | enum     | 无/处理中/成功/失败 |
| refund_amount | decimal  | 退款金额        |

### 5.4 预约表（Appointment）

| 字段         | 类型       | 说明                  |
| ---------- | -------- | ------------------- |
| id         | int      | 预约ID                |
| car_id     | int      | 车源ID                |
| buyer_id   | int      | 买家ID                |
| seller_id  | int      | 卖家ID                |
| book_date  | date     | 预约日期                |
| time_slot  | string   | 时间段描述               |
| status     | enum     | 待确认/已确认/已完成/已取消/已失效 |
| remark     | string   | 备注                  |
| created_at | datetime | 创建时间                |
| updated_at | datetime | 更新时间                |

---

## 6. 非功能需求（简要）

* 性能：

  * 列表页需在合理数据量下保证 <1s 响应（缓存 & 分页）。
* 安全：

  * 密码加密存储，接口权限校验。
  * 重要操作日志记录。
  * 防刷、防爬虫（基础限流）。
* 日志：

  * 前台关键行为（注册、发布车源、支付）需有日志。
  * 后台审核、删除、修改操作需记录操作者和时间。
* 可运维性：

  * 关键配置支持后台修改（如订金比例、自动关闭时间）。
